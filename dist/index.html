<html><head><style>body{display:flex;flex-direction:column;align-items:center}#svg{left:0;position:absolute;z-index:-1}.canvas{border:1px solid #000;position:absolute;top:0}#dialog{margin-left:4px;position:absolute;bottom:0;width:92.5%;height:200px;background-color:rgb(128,0,0,95%);border:4px solid #f8f8ff;border-radius:16px;color:#fff;padding:16px;font-family:sans-serif}#score{position:absolute;top:8px;left:100px}#objectives{position:absolute;top:8px;right:100px}.canvas-container{position:relative;width:600px;height:800px}</style></head><body><div><div class="canvas-container"><canvas class="canvas"id="static-canvas"width="600"height="800"></canvas><canvas class="canvas"id="hybrid-canvas"width="600"height="800"></canvas><canvas class="canvas"id="dynamic-canvas"width="600"height="800"></canvas><div id="dialog"></div><div id="objectives"></div><div id="score"></div></div><svg id="svg"width="2066"height="900"version="1.1"xmlns="http://www.w3.org/2000/svg"xmlns:xlink="http://www.w3.org/1999/xlink"><defs><radialGradient id="radialGradient6087-1"cx="285.3"cy="93.49"r="78.39"gradientTransform="matrix(.2322 0 0 .2135 601 327.4)"gradientUnits="userSpaceOnUse"><stop stop-color="#fff"offset="0"/><stop stop-color="#fff"offset=".495"/><stop stop-color="#bababa"offset=".624"/><stop offset=".751"/><stop stop-color="#fff"offset="1"/></radialGradient><radialGradient id="radialGradient6065-2"cx="117.7"cy="103.6"r="78.39"gradientTransform="matrix(-.2505 0 0 -.2538 699.4 376.8)"gradientUnits="userSpaceOnUse"><stop stop-color="#fff"stop-opacity="0"offset="0"/><stop stop-color="#6c6c6c"stop-opacity="0"offset=".619"/><stop stop-color="#43434f"offset=".699"/><stop stop-color="#fff"stop-opacity="0"offset=".82"/><stop stop-color="#5d5d5d"offset="1"/></radialGradient><pattern id="pattern2065"patternTransform="matrix(1 0 0 1.165 1092 166.7)"xlink:href="#pattern1097"/><pattern id="pattern1097"width="21.6"height="137.4"patternTransform="translate(1286 292.1)"patternUnits="userSpaceOnUse"><g transform="matrix(2.624 0 0 3.789 -2.755 -4.547)"stroke="#28170b"stroke-width=".5"><path d="M1.32 3.44v18.8c1.28.91 2.57 1.42 3.97 1.36 1.26-.1 1.98-.52 3.48-1.52l.261-18.5z"fill="#520"stroke-dashoffset="2.69"stroke-linejoin="round"/><ellipse cx="5.14"cy="3.55"rx="3.84"ry="2.1"fill="#e9c6af"fill-rule="evenodd"style="font-variation-settings:normal"/><path d="M6.13 12.9v24.3H4.26V12.9c.08-.1.811-.35.941-.36.129 0 .711.16.93.36z"fill="#520"stroke-dashoffset="2.69"stroke-linejoin="round"/></g></pattern></defs><g id="$layer1"><path d="M879 263.3l-144.3-84c-2.2-2.2-3.9-2.9-4-7.2l.5-156.1c0-2.5 3-5.1 5.6-4.9 2.8.1 5.8 2 5.7 5l-.8 151.2c0 1.2-.3 3.3 1.2 4.2L885 253.2c3.3 2.5 2.8 6.3 1.2 8.4s-5.1 2.9-7 1.5"fill="#999"stroke="#000"stroke-dashoffset="2.69"stroke-linecap="round"stroke-linejoin="round"stroke-width="1.89"id="$bend"/><g id="g_kicker"><g stroke="#000"stroke-dashoffset="2.694"><path d="M601.4 102.4V87.9l9.4 3.1 1.3 11.6c-.2 1.4.2 3.8-1.1 4.3-.5.3-2.3 1.6-5.6 1.3-3.2-.4-4.2-3.5-4-5.8zM685.8 142.3v-14.4l-11.2 2.8-.3 12.4c0 1.5.8 2.8 1.9 3.8 1.3 1.4 4.5 1.6 5.6 1.3 2.8-.7 4.2-3.5 4-5.9z"fill="#fc0"stroke-linecap="square"stroke-width=".847"/><path d="M674.4 142.4c1.7.3 5.8.9 9.4-2.5.7-.7 2.3-4.2 1.9-6.4 0-1.6-.3-3.1-1.1-4.5L618.5 17.6c-.6-1.4-.9-2.4-3-4.2-1.8-1.4-4.9-2.2-7.1-1.8-4 .7-7.4 4.7-7.1 9l.2 72.3c.4 4.1 2.1 5.9 4.8 8.1 10.2 6.7 48.3 29.2 68.1 41.4z"fill="#a80"stroke-width="1.012"/><path id="$kicker.fx"d="M674.4 136.4c1.7.3 5.8.9 9.4-2.5.7-.6 2.3-4 1.9-6.2 0-1.6-.3-3.1-1.1-4.4L618.5 14.4c-.6-1.2-.9-2.3-3-4-1.8-1.4-4.9-2.2-7.1-1.8-4 .7-7.4 4.7-7.1 8.8l.2 70.7c.4 3.8 2.1 5.7 4.8 7.9 10.2 6.5 48.3 28.5 68.1 40.4z"fill="#fc0"/><path id="$kicker.fx-8"d="M674.1 132.8c1.3.8 4.6 1.3 6.6-.5 1.9-1.8 2.6-3 2.4-4.9-.3-1.8-1-2.7-1.7-3.9 0 0-64.2-105.8-64.7-106.6s-1.2-2.39-3.1-3.94c-1.7-1.27-3.5-1.92-5.4-1.32-2.1.65-3.8 3.14-3.5 6.88v67.29c.4 3.47 1.7 5.73 4.2 7.74 9.3 5.92 47.1 28.3 65.2 39.2z"fill="maroon"/></g><path id="$helmet.fx"d="M635.9 58.8l-1.6 9.2c.7.3 3 1.4 3.7 4l4 1.7-.7 9.4.7 5.1-7.9 12.5V84c1.5-.89 5.2-2.44 5.1-3.9-.1-1.4-6.1-1.9-6.1.2-.1.7.2 7.4-1.1 7.6-1.2-.23-1.3-5.28-1.3-7.42 0-1.89-5.8-2.15-6.1-.38-.2 1.63 3.2 2.98 5 3.9l.1 16.8-8-12.7.9-4.9-.8-9.5 4-1.6c.4-1.5 1.7-3.4 3.6-4l-1.5-9.3c2.9-.49 5.2-.46 8 0z"fill="#fc0"opacity=".709"/></g><g id="flipper"fill-rule="evenodd"><path d="M924 34.4c.6 4.3 3.3 7.9 7 9.6l47.8 28.1c1.3.8 2.7 1.2 4.1 1.2 4.1 0 7.5-3.5 7.5-7.8 0-.7-.1-1.5-.3-2.2v.7c0 4.3-3.4 7.8-7.5 7.8-1.4 0-2.8-.5-4-1.3l-47.9-28.1c-3.3-1.5-5.7-4.4-6.7-8z"fill="maroon"stroke="#000"stroke-width=".176"style="font-variation-settings:normal"/><path d="M924 34.4c.6 4.3 3.3 7.9 7 9.6l47.8 28.1c1.3.8 2.7 1.2 4.1 1.2 4.1 0 7.5-3.5 7.5-7.8 0-.7-.1-1.5-.3-2.2v.7c0 4.3-3.4 7.8-7.5 7.8-1.4 0-2.8-.5-4-1.3l-47.9-28.1c-3.3-1.5-5.7-4.4-6.7-8z"opacity=".353"style="font-variation-settings:normal"/><path d="M935.3 18.8c-6.4 0-11.7 5.6-11.7 12.3 0 4.9 2.8 9.4 7.1 11.3l47.9 28.1c1.2.8 2.6 1.3 4 1.3 4.1 0 7.5-3.5 7.5-7.8 0-2.4-1-4.6-2.7-6.1L943 21.8c-2.1-1.72-5.2-2.94-7.7-3z"fill="maroon"stroke="#000"stroke-width=".588"style="font-variation-settings:normal"/><path d="M934.5 21.4c-4.1 0-7.5 3.8-7.5 8.4 0 2.9 1.3 5.6 3.5 7.1 17.8 9.38 34 21.12 49.5 29.07 1.3.68 1.9.65 2.7.63.9 0 1.8-.3 2.4-1 .7-.7 1.1-1.7 1.1-2.7 0-1.5-1-2.67-2-3.5-14.7-11.95-29.7-23.83-44.5-35.7-.5-.5-1-.9-1.5-1.2-1.1-.7-2.3-1.1-3.6-1.1z"fill="#fc0"stroke="#000"stroke-width=".412"style="font-variation-settings:normal"/></g><g stroke-width=".056"><circle cx="669.9"cy="350.6"r="14.54"fill="url(#radialGradient6087-1)"stroke="#b0b0b0"/><circle cx="669.9"cy="350.6"r="14.54"fill="url(#radialGradient6065-2)"stroke="#000"/></g><g stroke="#fc0"stroke-width="2"><path id="$plunger"d="M715.5 341.6h53v18.2h-53z"fill="maroon"stop-color="#000"stroke="#fc0"stroke-linecap="round"stroke-linejoin="round"stroke-width="2"/></g><g id="g_tree"stroke-dashoffset="2.69"stroke-linecap="round"stroke-linejoin="round"><path d="M826.4 346.3h19.7v26.1h-19.7z"fill="#502d16"stroke="#28170b"stroke-width=".815"/><path d="M816.4 324.2l-7 13.7-10 16c8.1-3.6 12.6-4.6 18.7-7.6l10.6 12.3 13.8-9.7 16.4 8.4 2.6-8.6 8.5 2.9c-7.4-10.5-13.6-22.8-19.3-34.9z"fill="#89a02c"stroke="#677821"stroke-width=".815"/><path d="M844.1 300.5l-19.9 3.8-6 11.9-9.1 15.3 8.7-4.8 5.5 6.9 4.8-7.7 6.7 12.6 8.1-12.4 5.3 8.5 4-9.7 10.6 6.7z"fill="#abc837"stroke="#89a02c"stroke-width=".816"/><path d="M817.7 311.6c2.8-1 6.8-2.8 9.5-4.9 3.1 2.7 4.8 7.6 8.6 10.5 1.6 0 4-11 5.2-10.7 4 1.4 8.5 3.9 12.9 5.8-1.6-4.7-8.3-16.6-9.6-19.4-3.2-6.7-5.1-11.5-8.7-18.2-2 3.9-5.7 11.6-7.9 17.6z"fill="#bcd35f"stroke="#abc837"stroke-width=".815"/></g><g id="g_iron"><path d="M931.3 347.4c-.4-1.3-.5-3.3-.4-4.4.7-1.3 1.9-3.4 1.9-3.4s-1.2-4.7-1-6.3c2-2.7 4.5-5.4 7.2-6.9 5.3-1.3 13.8-2.1 13.8-2.1s4.2 1.5 4.7 2.2c.7.9-.1 1.2.9 2.9 1.2 1.2 3.2 3.3 3.2 3.3l-.4 1.9s1.3 1.8 1.4 2.4c-.1 1.8-.9 2.7-1.4 4.5 1.3 2.5 1.5 4.4 1.1 7.2-2.5 2.3-5.5 5.3-7.2 6.2-5.1 0-14.7 2-14.7 2s-1.1 3.7-2.2 5.4c-.3.5-1.7.8-2.2.9-1.6.1-3 .6-4.4 1.3-2.6.2-5.7-.2-7.9-1.5-.6-.8-.8-1.5-.9-1.9-.1-2-1-3.1-1-3.1s1.7-2.1 2-3.1c.4-1.4 0-4.3 0-4.3s2.2-1.4 3.8-1.4c.8-.9 1.6-1.9 1.6-1.9s.9.4 2.1.1z"fill="#999"stroke="#333"stroke-dashoffset="2.69"stroke-linecap="round"stroke-linejoin="round"stroke-width=".7"/><path d="M927.7 353.4c.3-.2.8-1.6 1.4-1.8 1.3.5 2.6 1.9 3.4 2.6-.8 1.4-1.4 3.4-2.4 2.8-1.7-1.2-4.6-2.2-2.4-3.6zm20.1-25.7c1 5.1 2.9 3.6 5.6 1.6-.5-1.8-1.6-2.2-3.2-3.5-1.1.5-1.9.8-2.4 1.9zm-10.7 5c1.3-1.3 4.3-2.4 5.1-2 .4 2.7 2.3 6.3.6 6.9-2 1.1-3.7 3.3-4.9 2.2-.1-2.6-1.6-4.9-.8-7.1z"fill="#d45500"stroke="#a40"stroke-dashoffset="2.69"stroke-linecap="round"stroke-linejoin="round"stroke-width=".7"/><path d="M950.3 344.1c-1 .6-2 .8-2.8 1.8-.6 4.9-3.4 2.5-5.8 3.9-1-1.3-2.4-3.5-3-4.7-3.6-3-4.2-.6-7.7 0 0 .8.1 1.7.3 2.3.8-.2 1.2-.4 1.9-.6 4.5-.3 5.1 2.6 7.1 5.9-4.2 6-10.8 9.3-17.5 8.3-.1.6.5 1.5.8 2.1 2.8 1 4.3 1.3 8 1.5 1.4-.9 2.7-1.1 4.4-1.3 2.1-.1 4.7-3.8 4.4-6.3 7-1.8 11.2-2.3 14.6-2 3.5-1.9 4-3.7 7.2-6.2.8-2.7-.1-5-1-7.3.5-1.6 1.2-3.1 1.4-4.5-.1-.5-1.1-2-1.4-2.4.6-2.7-1.4-3.5-2.8-5.2-.9-3.1-1.9-4.3-5.6-5.1 6.3 11.8 1.8 17.3-2.5 19.8z"opacity=".304"/></g><g id="$gold"><path d="M974.4 477.2h38.6v52.7h-38.6z"fill="#ffdd4f"stroke="#2b2200"stroke-dashoffset="2.7"stroke-linecap="round"stroke-linejoin="round"stroke-width=".329"/><g stroke="#d4aa00"><path d="M1002 508.4a7.991 15.51 30 01-14.6 9.4 7.991 15.51 30 01.8-17.4 7.991 15.51 30 0114.8-9.4 7.991 15.51 30 01-1 17.4"fill="#ffd42a"fill-rule="evenodd"stroke-width=".47"style="font-variation-settings:normal"/><path d="M999.4 506.9a7.991 15.51 30 01-14.6 9.4 7.991 15.51 30 01.8-17.4 7.991 15.51 30 0114.4-9.4 7.991 15.51 30 01-.6 17.4"fill="#ffd42a"fill-rule="evenodd"stroke-width=".47"style="font-variation-settings:normal"/><path d="M989.3 506.9l4.7-7.5"fill="#a80"stroke-dashoffset="2.7"stroke-linecap="round"stroke-linejoin="round"stroke-width="2.115"/></g></g><g id="g_lance"fill="#fff"stroke="#000"stroke-width=".3"><path d="M661.1 558.7l2-1.8.6.5-1.9 1.8h2.2l3.9-6.1-6.8 3.5z"/><path d="M660.3 557.7v2.3h2.5l-.7.8H661l-1.1 1-.4-.5-5.5 4.8-.6-.5 5.4-4.9-.4-.4 1-.9v-1.1z"/></g><g id="g_sword"fill="#fff"stroke="#000"stroke-width=".3"><path d="M718.1 560.7l7.3-6.7h3.3v2.9l-7.4 6.7-1.4-1.2 6.9-6.2-.1-.5h-.4l-6.8 6.2zM715.8 561.3l1.1-.9 4.8 4.4-1 .9zM714.9 561.4l2-1.8-2.5-.4zM722.6 564.8l-2 1.8 3 .4zM716.8 563l-1.3 1.2H713v4h4.5V566l1.3-1.2zm-2.1 2.6h1.2v1.1h-1.2z"/></g><g id="g_gutter"shape-rendering="auto"color="#000"><path d="M1030 11.56c-1-.1-2 .8-2 1.89v147.4c0 1.1 1 2 2 1.9h214c1 .1 2-.8 2-1.9v-45c0-.7 0-1.4-1-1.7l-214-102.5c0-.15-1-.22-1-.19z"fill="#fc0"stroke="#000"stroke-linecap="round"stroke-linejoin="round"stroke-width="1.134"style="font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;font-variation-settings:normal;inline-size:0;isolation:auto;mix-blend-mode:normal;shape-margin:0;shape-padding:0;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/><path d="M1030 13.45l214 102.4v45h-214z"fill="maroon"fill-opacity=".984"style="font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;font-variation-settings:normal;inline-size:0;isolation:auto;mix-blend-mode:normal;shape-margin:0;shape-padding:0;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/></g><g id="$small-mine-wall"stroke-width="3.614"><path d="M650.4 451.3c-3.3-12.8 8.8-26.5 21.9-21 31.4 2.9 61.5-3.8 89.3-.6 6.2 6.9 7.4 24.2-.3 29.7-13.5 3.9-30-.3-45.1.1-13.3-1-66.5 5.2-65.8-8.2z"fill="#666"stroke="#1a1a1a"stroke-dashoffset="2.69"stroke-linecap="round"stroke-linejoin="round"/><path d="M755.8 453.8c-28.3.5-73.7 8.5-105.5-2.2-1 11.7 65.8 7.9 110.9 7.8 7.7-5.5 6.5-22.8.3-29.8-3.2 3.4 2.9 17.3-5.7 24.2z"opacity=".294"/></g><path id="g_check"d="M107.3 19.44l-21.77 23-17.1-18.9-7.3 6.7 17.6 19.4-16.8 17.7 7.2 6.8 16.3-17.2 15.97 17.6 7.3-6.6-16.47-18.1 22.27-23.5z"color="#000"color-rendering="auto"dominant-baseline="auto"fill="#d40000"image-rendering="auto"shape-rendering="auto"stop-color="#000"stroke="#000"stroke-dashoffset="2.69"stroke-linejoin="round"stroke-width=".889"style="font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;font-variation-settings:normal;inline-size:0;isolation:auto;mix-blend-mode:normal;shape-margin:0;shape-padding:0;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/><path id="g_cross"d="M155.1 59.84c-4.2-4-10.6-9.42-19.7-11.5 1.5 10.92 18.3 26 21.1 26.5 11.1-20.26 27.4-41.96 34.2-55.6-14.6 10.02-30 31.4-35.5 40.6z"color="#000"color-rendering="auto"dominant-baseline="auto"fill="#0f0"image-rendering="auto"shape-rendering="auto"stop-color="#000"stroke="#000"stroke-dashoffset="2.69"stroke-linecap="round"stroke-linejoin="round"stroke-width=".823"style="font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;font-variation-settings:normal;inline-size:0;isolation:auto;mix-blend-mode:normal;shape-margin:0;shape-padding:0;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/><path fill="url(#pattern2065)"opacity=".999"stroke-linecap="round"stroke-linejoin="round"stroke-width=".324"d="M1200 167.1h21.63v700.6H1200z"id="$fence"/><g id="g_sign"shape-rendering="auto"stroke-width="1.851"color="#000"><path d="M200.7 161.2c-1.7 0-3 1.3-3 3v70.3c0 1.7 1.3 3 3 3h113.2c1.7 0 3-1.3 3-3v-70.3c0-1.7-1.3-3-3-3z"fill="#deaa87"stroke="#000"stroke-dashoffset="2.69"stroke-linejoin="round"style="font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;font-variation-settings:normal;inline-size:0;isolation:auto;mix-blend-mode:normal;shape-margin:0;shape-padding:0;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/><path d="M200.7 164.2h113.2v70.3H200.7z"fill="maroon"style="font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;font-variation-settings:normal;inline-size:0;isolation:auto;mix-blend-mode:normal;shape-margin:0;shape-padding:0;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal"/></g><g id="g_enemy"><g stroke="#000"stroke-width=".562"><path d="M721.9 666.7a4.494 5.617 0 01-4.5 5.6 4.494 5.617 0 01-4.5-5.6 4.494 5.617 0 014.5-5.7 4.494 5.617 0 014.5 5.7zm-28-7.8c2.4-1.2 8-2.5 11.2 1.8 1.4-.4.8-.5 2.8-.3 1.4.8 2 5 2 6.4-.3 3.8-4 3.7-7.5 3.6-6.7.6-10.1-5.5-8.5-11.5zm-6.1 27.3c.4 17.7 11.2 14.5 10.8.8-.2-2.4-1.1-5.1-1.8-6-2 1.5-7 3.9-9 5.2zm-15.2 1.6c-.9 2.7-.2 8.7 4 8.5 2.8-.2 6.3-2.8 6.2-6.3-.5-7.9-7.2-4-10.2-2.2zm2.3-14.7c-4.5 0-8.1-3-8.1-6.7s3.6-6.7 8.1-6.7"fill="#fca"fill-rule="evenodd"style="font-variation-settings:normal"/><path d="M706.5 670.4c2.5-4.4 1.5-7.6 1.4-10.1 3-.7 6.8 1.2 6.4 7.5-.2 3.8-5.3 3.8-7.8 2.6zm-7.6 20.9c.9 3 1.2 7.6 1.1 10.5 9.5 8.5-13.9 6.9-13.6.5.8-2.5.3-7.2 1.6-10.3 5.5 2 7.2.5 10.9-.7zm-26.8.8c-.9 3.1-.7 6.2-.6 9.2-9.5 8.4 13.5 6.3 13.2 1.6-.9-2.5-.2-8.6-1.5-11.6-5.8 2.3-5.3 2.1-11.1.8zm3.6-30.9c-1 6.1-.8 13 0 19.1 10.8 4.8 16.5 1.3 21.8-.8-1.5-5.5-.5-4.1-.3-8.5-.6-4.2.7-10.1-5-10.6-4.9.7-11.5.5-16.4.8z"fill="#502d16"stroke-dashoffset="2.69"stroke-linejoin="round"/><path d="M681 686.9c.8 1.7 4.1 1.4 6.1 1.2 3.1-2.2 5.9-3 9.7-5.6 1.8-1.2 1.1-3.5-1.1-2.5-7.9 1.4-14.3 3.9-14.7 6.9z"fill="#04a"stroke-dashoffset="2.69"stroke-linejoin="round"/><path id="$armor.fx"d="M687 677.9a15.17 13.11 0 01-15.1 13.1 15.17 13.11 0 01-15.2-13.1 15.17 13.11 0 0115.2-13.1 15.17 13.11 0 0115.1 13.1m7.3-16.5c-.1-11.3-1.3-22.1-10.8-21.4-11 .8-9.8 15.3-8.8 24.1 2.4 1.1 8 1.8 10.3 1.7 3.3.1 7.2-1.8 9.4-4.4z"fill="#d4aa00"fill-rule="evenodd"stop-color="#000"style="font-variation-settings:normal"/></g><path d="M682.4 655.4l3.6-.1-.2-4.5c2.2-.8 6.2.1 6.3 2.4 0 2.8-4.3 3.3-5.6 3.6l.5 8.9h-4.4l-.4-8.7c-3.6-.1-6-.1-5.9-2.8 0-2.2 1.5-3.3 5.9-3.2.1 1.5 0 3 .2 4.4z"stroke="#28170b"stroke-dashoffset="2.69"stroke-linejoin="round"stroke-width=".187"/><path d="M715.9 660.7c.3-6.6 4.6-22.3 1.6-26.9 3.9-6.6 4.9-14.7 8.1-22.6 5.2 9.3 2.6 27.6 0 38.2-4.6.6-4.8 7.5-5.6 11.8-1.1 1.5-4.1 1.5-4.1-.7z"fill="#afc6e9"stroke="#000"stroke-dashoffset="2.69"stroke-linejoin="round"stroke-width=".562"/><path d="M689.6 653.6a.839.839 0 01-.8.9.839.839 0 01-.8-.9.839.839 0 01.8-.8.839.839 0 01.8.8m-9.1.2a.839.839 0 01-.8.8.839.839 0 01-.9-.8.839.839 0 01.9-.9.839.839 0 01.8.9z"fill="red"fill-rule="evenodd"stroke-width="0"style="font-variation-settings:normal"/><path fill="#fc0"stroke="#000"stroke-dashoffset="2.69"stroke-linejoin="round"stroke-width=".553"d="M713.395 659.339l10.045 1.38-.37 2.692-10.045-1.38z"/></g><ellipse cx="1018"cy="341.7"rx="20.97"ry="18.83"fill="#540000"opacity=".999"/><ellipse cx="1018"cy="334.6"rx="25.8"ry="21.75"fill="#fc0"opacity=".999"stroke="#000"stroke-linecap="round"stroke-linejoin="round"stroke-width=".5"/><path d="M1010 314.2l-1 8.8-13.2 1 7.2 6.9-9.6 9 13.6-.5-1 14.1 11-9.2 9 10.3 1-13.4 14 1.5-8-9 9-6.5-13-2.4-1-9.4-7 4.3-4-.8z"fill="maroon"stroke-dashoffset="2.694"stroke-width="2.646"/><ellipse cx="1018"cy="329.5"rx="14.15"ry="11.85"fill="maroon"opacity=".999"stroke="#000"stroke-linecap="round"stroke-linejoin="round"stroke-width=".5"/><ellipse cx="1018"cy="329.1"rx="12"ry="9.7"fill="#600"opacity=".999"/><path d="M1124.5 455.8l-64-61.5v-4.1l63 .3z"fill="#a68400"stroke="#000"stroke-width=".995"/><path d="M1195 454.3l-64-62.7h64z"fill="#fc0"opacity=".999"stroke="#000"stroke-linecap="round"stroke-linejoin="round"transform="translate(-70.5 -1.5)"/><path d="M1193 450.1l-58-57h58z"fill="maroon"opacity=".999"transform="translate(-70.5 -1.5)"/><g id="g_axe"fill="#fff"stroke="#000"><path d="M695.5 555.3c.2-.3.6-.2.8 0 .3.2.3.4.1.7l-8.4 8.4c.4.2.2.6-.1.8-1.1 1.1-3.3 3.7-3.5 3.6-.4 0-1.6-1.1-1.6-1.4-.2-.3 2.6-2.7 3.7-3.8.2-.2.6.2.6.2 2.8-2.8 5.6-5.6 8.4-8.5zM693.2 560.2l2.9-3c1 .2 1.7-.1 2.5-.6.5 4.1-2.4 6.1-5.9 5.8.7-.7.7-1.5.5-2.2z"stroke-width=".3"/><path d="M694 555.6l-3 3.2c-1.1-.3-1.9.1-2.7.6-.6-4.5 1.5-6.6 6.3-6.1-.8.7-.8 1.6-.6 2.3z"stroke-width=".318"/></g></g></svg></div><script>!function(t){var s={};function i(h){if(s[h])return s[h].t;var e=s[h]={s:h,i:!1,t:{}};return t[h].call(e.t,e,e.t,i),e.i=!0,e.t}i.h=t,i.c=s,i.d=function(t,s,h){i.o(t,s)||Object.defineProperty(t,s,{l:!0,get:h})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},i.p=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.u)return t;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{l:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)i.d(h,e,function(s){return t[s]}.bind(null,e));return h},i.n=function(t){var s=t&&t.u?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.m="",i(i.M=0)}([function(t,s,i){"use strict";i.r(s);const h=!1,e=600,n=800,r=1,o=1e3,a=3e4,l=Math.PI/2.5,c=15,u=1e4,w=20,d=1,p=50,f=100,m=2e3,y=1e3,b=2,M=20,g=2,v=800,x=45e3,C=.25,S=1.5,D=.1,_=.5;class k{g(t){let s=[];for(let i=0;i<t.v.length;i++){const h=t.v[i],e=t.v[(i+1)%t.v.length].C(h).normalize();s[i]=e.S()}return s}D(t,s){const i=this.g(t).concat(this.g(s));let h=null,e=null;for(let n of i){const i=this._(t.k(n),s.k(n));if(null==i)return null;(null==e||Math.abs(i)<Math.abs(e))&&(e=i,h=n)}return h.multiply(e)}_(t,s){if(t.max<s.min||s.max<t.min)return null;const i=Math.max(t.min,s.min),h=Math.min(t.max,s.max);let e=Math.sign(t.min-s.min);return 0==e&&(e=Math.sign(t.max-s.max)),e*(h-i)}}class ${resolve(t,s,i){const h=i.normalize(),e=h.$(t.speed.multiply(t.j*s.j))-(s.H?0:h.$(s.speed.multiply(t.j*s.j)));return e<0&&(t.A(h.multiply(-e)),t.translate(i)),i.length()}}class j{constructor(){this.L=new k,this.P=new $,this.F={B:null,O:null}}update(t,s){if(s.W)return;const i=this.L.D(t.V(),s.V());if(null!=i)if(null!=s.R&&s.R(i),s.T){const h=this.P.resolve(t,s,i);null!=s.q&&s.q(h)}else null==this.F.B&&null==this.F.O&&s.I&&s.I(),this.F.B=t,this.F.O=s;null==i&&this.F.B==t&&this.F.O==s&&(s.N&&s.N(),this.F.B=null,this.F.O=null)}}let H,A,L,P,F,z,B;H=(...t)=>A(L(...t)),A=(...t)=>{let s=B.createBufferSource(),i=B.createBuffer(t.length,t[0].length,z);return t.map((t,s)=>i.getChannelData(s).set(t)),s.buffer=i,s.connect(B.destination),s.start(),s},L=(t=1,s=.05,i=220,h=0,e=0,n=.1,r=0,o=1,a=0,l=0,c=0,u=0,w=0,d=0,p=0,f=0,m=0,y=1,b=0,M=0)=>{let g,v,x=2*Math.PI,C=a*=500*x/z**2,S=(0<p?1:-1)*x/4,D=i*=(1+2*s*Math.random()-s)*x/z,_=[],k=0,$=0,j=0,H=1,A=0,L=0,P=0;for(l*=500*x/z**3,p*=x/z,c*=x/z,u*=z,w=z*w|0,v=(h=99+z*h)+(b*=z)+(e*=z)+(n*=z)+(m*=z)|0;j<v;_[j++]=P)++L%(100*f|0)||(P=r?1<r?2<r?3<r?Math.sin((k%x)**3):Math.max(Math.min(Math.tan(k),1),-1):1-(2*k/x%2+2)%2:1-4*Math.abs(Math.round(k/x)-k/x):Math.sin(k),P=(w?1-M+M*Math.sin(2*Math.PI*j/w):1)*(0<P?1:-1)*Math.abs(P)**o*t*F*(j<h?j/h:j<h+b?1-(j-h)/b*(1-y):j<h+b+e?y:j<v-m?(v-j-m)/n*y:0),P=m?P/2+(m>j?0:(j<v-m?1:(v-j)/m)*_[j-m|0]/2):P),g=(i+=a+=l)*Math.sin($*p-S),k+=g-g*d*(1-1e9*(Math.sin(j)+1)%2),$+=g-g*d*(1-1e9*(Math.sin(j)**2+1)%2),H&&++H>u&&(i+=c,D+=c,H=0),!w||++A%w||(i=D,a=C,H=H||1);return _},F=.3,z=44100,B=new(top.AudioContext||webkitAudioContext),P=(t,s,i,h=125)=>{let e,n,r,o,a,l,c,u,w,d,p,f,m,y,b,M=0,g=[],v=[],x=[],C=0,S=0,D=1,_={},k=z/h*60>>2;for(;D;C++)g=[D=u=p=m=0],i.map((h,p)=>{for(c=s[h][C]||[0,0,0],D|=!!s[h][C],b=m+(s[h][0].length-2-!u)*k,y=p==i.length-1,n=2,o=m;n<c.length+y;u=++n){for(a=c[n],w=n==c.length+y-1&&y||d!=(c[0]||0)|a|0,r=0;r<k&&u;r++>k-99&&w?f+=(f<1)/99:0)l=(1-f)*g[M++]/2||0,v[o]=(v[o]||0)-l*S+l,x[o]=(x[o++]||0)+l*S+l;a&&(f=a%1,S=c[1]||0,(a|=0)&&(g=_[[d=c[M=0]||0,a]]=_[[d,a]]||(e=[...t[d]],e[2]*=2**((a-12)/12),a>0?L(...e):[])))}m=b});return[v,x]};const O=[[[.5,0,143,,.1,.5,3],[1.6,0,4e3,,,.05,2,1.25,,,,,.02,6.8,-.3,,.5],[.6,0,23,,,.13,3,5]],[[[,,13,,,,13,,13,,,,,,,,,,13,,,,13,,13,,,,6,,10,,12,,13,,,,13,,13,,,,,,,,,,8,,,,8,,8,,,,,,,,,,],[,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,,,,,12,,,,12,,12,,,,,,,,,,],[,,22,,,,22,,22,,,,,,,,,,22,,,,22,,22,,,,,,,,,,22,,,,22,,22,,,,,,,,,,17,,,,17,,17,,,,,,,,,,],[1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,,13,,,,13,,13,,,,,,,,,,13,,,,13,,13,,,,6,,10,,12,,13,,,,13,,13,,,,,,,,,,8,,,,8,,8,,,,,,,,,,],[,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,,,,,12,,,,12,,12,,,,,,,,,,],[,,22,,,,22,,22,,,,,,,,,,22,,,,22,,22,,,,,,,,,,22,,,,22,,22,,,,,,,,,,17,,,,17,,17,,,,,,,,,,],[1,,,,,,,,,,13,13,,13,,,13,,,,,,,,,,13,,13,,13,,13,,,,,,,,,,,,13,,,,13,,,,,,,,,,13,13,,13,13,,13,13]],[[,,13,,,,13,,13,,,,,,,,,,13,,,,13,,13,,,,6,,10,,12,,13,,,,13,,13,,,,,,10,,,,8,,,,8,,8,,,,,,,,,,],[,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,13,,,,12,,,,12,,12,,,,,,,,,,],[,,22,,,,22,,22,,,,5,,10,,12,,22,,,,22,,22,,,,12,,10,,5,,22,,,,22,,22,,,,,,18,,,,17,,,,17,,6,,,,,,,,,,],[1,,,,,,,,,,13,13,,13,,,13,,,,,,,,,,13,,13,,13,,13,,,,,,,,,,,,13,,,,13,,,,,,,,,,13,13,,13,13,,13,13],[2,,13,17,13,17,13,20,13,20,,,,,,,,,13,17,13,17,13,12,13,12,,,,,,,,,13,17,13,17,13,12,13,12,,,,,,,,,13,17,13,17,13,10,13,10,,,,,13,20,15,15]],[[,,13,,,,13,,13,,,,12,,10,,5,,13,,,,13,,13,,,,6,,10,,12,,13,,,,13,,13,,,,,,10,,,,8,,,,8,,8,,,,,,13,,,,],[,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,,,,,17,,,,17,,17,,,,,,13,,,,12,,,,12,,12,,,,,,,,,,],[,,22,,,,22,,22,,,,5,,10,,12,,22,,,,22,,22,,,,12,,12,,5,,22,,,,22,,22,,,,,,18,,,,17,,,,17,,6,,,,,,,,,,],[1,,,,,,,,,,13,13,,13,,,13,,,,,,,,,,13,,13,,13,,13,,,,,,,,,,,,13,,,,13,,,,,,,,,,13,13,,13,13,,13,13],[2,,13,17,13,17,13,20,13,20,,,,,,,,,13,17,13,17,13,12,13,12,,,,,,,,,13,17,13,17,13,12,13,12,,,,,,,,,13,17,13,17,13,10,13,10,,,,,13,20,15,15]]],[0,1,2,3,2,3,2,3,2,3,2,3],,],W=[[[,0,80,,.1,.6,2,,,,,,,,,.02,.01],[.3,0,80,,.08,.18,3],[.7,0,22,,.07,.07,2,0,,,.5,.01]],[[[,,15,,18,,,,15,,18,,,,15,,18,,,,,,10,,13,,,,10,,13,,,,10,,13,,,,,,15,,18,,,,15,,18,,,,20,,18,,,,,,10,,13,,,,,,13,,,,,,,,],[1,,15,18,22,25,15,18,22,25,15,18,22,25,15,18,22,25,15,18,22,25,10,13,17,20,10,13,17,20,10,13,17,20,10,13,17,20,10,13,17,20,15,18,22,25,15,18,22,27,15,18,22,25,20,24,27,30,15,18,22,25,10,17,24,29,10,13,17,20,10,17,24,30,30,27,24,22]]],[0],140],V=[[[1.5,0,43,,,.25,,,,,,,,2],[.5,0,2100,,,.2,3,3,,,-400,,,2],[.7,0,23,,,.2,3,5]],[[[,,20,,,,20,,20,,,,20,,20,,,,20,,,,20,,20,,,,20,,20,,,,20,,,,20,,20,,,,20,,20,,,,20,,,,20,,20,,,,20,,20,,,,],[1,,20,,,,20,,20,,,,20,,20,,,,20,,,,20,,20,,,,20,,20,,,,20,,,,20,,20,,,,20,,20,,,,20,,,,20,,20,,,,20,,20,,,,],[2,,13,,13,,13,,13,,13,,13,,13,,16,,13,,13,,13,,13,,13,,13,,13,,16,,13,,13,,13,,13,,13,,13,,13,,16,,13,,13,,13,,13,,13,,16,,18,,19,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]]],[0],120],R=[[[.5,0,80,,.07,.07,2,0,,,.5,.01],[2,0,43,,,.25,,,,,,,,2],[1.5,0,4e3,,,.03,2,1.25,,,,,.02,6.8,-.3,,.5],[.5,0,80,,.5,.35,3]],[[[,,8,,9,,13,,12,,8,,9,,6,,,,8,,9,,13,,12,,8,,9,,14,,,,8,,9,,13,,12,,8,,9,,6,,,,8,,9,,13,,12,,8,,9,,14,,,,],[1,,13,,,,,,,,13,,,,,,,,13,,,,,,,,13,,,,,,,,13,,,,,,,,13,,,,,,,,13,,,,,,,,13,,,,,,,,],[2,,,,,,13,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,13,,,,,,13,,,,,,,,13,,13,,,,,,13,,13,,,,,,13,,,,],[3,,20,,,,,,,,,,,,20,,,-1,19,,,,,,,,,,,,8,,,,13,,,,,,,,,,,,25,,,-1,8,,,,,,,,,,,,,,,,],[3,,13,,,,,,,,,,,,13,,,-1,8,,,,,,,,,,,,,,,,20,,,,,,,,,,,,20,,,-1,19,,,,,,,,,,,,,,,,]]],[0],140],T=[[[.7,0,50,.002,.02,.08,3,,,,,,,,,.1,.01],[.3,0,196,,.08,.5,3]],[[[,,13,,17,,18,,22,,23,,28],[1,,13,,17,,18,,22,,23,,28]]],[0],180],q=[[[.5,0,190,,.08,.5,3],[,0,48,,,.2,3,5]],[[[,,5,,5,,5,,5,,,,,,1,,,,,,3,,,,,,5,,,,3,,5],[1,,5,,5,,5,,5,,,,,,1,,,,,,3,,,,,,5,,,,3,,5]]],[0],209];const E=new class{constructor(){this.U=!1,this.Y=P(...O),this.Z=P(...W),this.G=P(...V),this.J=P(...R),this.K=P(...T),this.X=P(...q)}tt(){this.st=A(...this.Y),this.st.loop=!0}it(){this.st=A(...this.Z),this.st.loop=!0}ht(){this.st=A(...this.G),this.st.loop=!0}et(){this.st=A(...this.J),this.st.loop=!0}nt(){this.st=A(...this.K)}rt(){this.st=A(...this.X)}ot(){this.st&&this.st.stop()}at(t){F=t}},I=new class{lt(){H(.6,,1300,,.05,.5,1,2,,,1300,.07,,,.1,,,.9)}ct(t){H(((t>S?S:t)-C)/(S-C)*(_-D)+D,,200,,,,,5,,-.1,600,.3,,8,,,,.9,.1,.01)}ut(){H(.5,,304,.1,.3,,5,.1,-46,,,,,,-165)}wt(){H(,,420,,.02,.2,4,1.05,-9,,2e3,.5,,,,.5)}dt(){H(.5,,304,.1,.3,,5,.1,-46,,,,,,-165),H(,,418,0,.02,.2,4,1.15,-8.5,,,,,.7,,.1)}pt(){H(,,224,.02,.02,.08,1,1.7,-13.9,,,,,,6.7)}ft(){H(.4,,941,,,.4,4,.74,-222,,,,,.8,,1)}yt(){H(.7,,1e3,,.1,.8,,,,,100,.01,.03)}bt(){H(.2,,537,.02,.02,.22,1,1.59,-6.98,4.97),H(.5,,150,.05,,.05,,1.3,,,,,,3)}};class N{constructor(t,s){this.x=t,this.y=s}$(t){return this.x*t.x+this.y*t.y}S(){return new N(this.y,-this.x)}C(t){return new N(this.x-t.x,this.y-t.y)}length(){return Math.sqrt(this.x**2+this.y**2)}multiply(t){return new N(this.x*t,this.y*t)}normalize(){return new N(this.x/this.length(),this.y/this.length())}add(t){return new N(this.x+t.x,this.y+t.y)}static Mt(){return new N(0,0)}}class U{constructor(t){this.v=[],this.v=t}k(t){return this.v.reduce((s,i)=>{const h=i.$(t);return h<s.min&&(s.min=h),h>s.max&&(s.max=h),s},{min:this.v[0].$(t),max:this.v[0].$(t)})}translate(t){this.v=this.v.map(s=>s.add(t))}rotate(t,s){const i=Math.cos(s),h=Math.sin(s);this.v=this.v.map(s=>new N(i*(s.x-t.x)-h*(s.y-t.y)+t.x,h*(s.x-t.x)+i*(s.y-t.y)+t.y))}gt(t){const s=[];for(const i of this.v)s.push(new N(i.x+2*(t-i.x),i.y));return new U(s)}static vt(t,s){if(null!=t.shape){s.beginPath(),s.save(),s.fillStyle="#FF0000",s.translate(t.position.x,t.position.y);for(let i=0;i<t.shape.v.length;i++){const h=t.shape.v[i];s.lineTo(h.x,h.y)}s.fill(),s.restore(),s.closePath()}}static xt(t,s){let i=t.split(""),h="";const e=["v","h","V","H","z"],n=["m","M","l","L","c","z"];let r=0,o=0,a=!1,l=["",""];for(const t in i){let s=!1;const c=i[t];e.includes(c)||n.includes(c)?s=!0:"-"===c?(a=!1,""!==l[0]?(o+=1,o<2&&(l[o]=l[o]+c)):l[o]=c):"."===c?a?(o+=1,l[o]=l[o]+c):(a=!0,l[o]=l[o]+c):" "!==c?l[o]=l[o]+c:(a=!1,o+=1),(o===r||s)&&(a=!1,2===r&&""!==l[0]?h=h+l[0]+","+l[1]+" ":1===r&&""!==l[0]&&(h=h+l[0]+" "),s&&(e.includes(c)?r=1:n.includes(c)&&(r=2),h+=c,"z"!==c&&(h+=" ")),l=["",""],"-"===c&&(l[0]="-"),o=0)}let c=new N(0,0),u=null;const w=t.split(" "),d=[];for(const t of w)switch(t){case"m":case"M":case"v":case"V":case"h":case"H":case"l":case"L":case"z":case"Z":u=t;break;default:const s=t.split(",").map(t=>Number.parseFloat(t));switch(u){case"m":d.push(c.add(new N(s[0],s[1])));break;case"M":d.push(new N(s[0],s[1]));break;case"v":d.push(c.add(new N(0,s[0])));break;case"V":d.push(new N(c.x,s[0]));break;case"h":d.push(c.add(new N(s[0],0)));break;case"H":d.push(new N(s[0],c.y));break;case"l":d.push(c.add(new N(s[0],s[1])));break;case"L":d.push(new N(s[0],s[1]))}c=d[d.length-1]}for(const t of d)t.x-=s.x,t.y-=s.y;return new U(d)}}class Y{constructor(t){this.position=N.Mt(),this.speed=N.Mt(),this.Ct=t,this.shape=null,this.St=N.Mt(),this.Dt=N.Mt(),this.j=1,this.H=!0,this.W=!1,this.T=!0}gt(t){this.shape=this.shape.gt(t)}A(t){this.St=this.St.add(t)}_t(t){this.Dt=this.Dt.add(t)}rotate(t,s){this.shape.rotate(t,s)}translate(t){this.position=this.position.add(t)}V(){return new U(this.shape.v.map(t=>t.add(this.position)))}update(t){this.speed=this.speed.add(this.St.add(this.Dt).multiply(1/this.Ct*t)),this.translate(this.speed.multiply(t)),this.St=N.Mt()}}const Z=new class{constructor(){this.kt={},this.$t={},this.jt={},this.Ht=null,this.kt={},this.$t={},this.jt={}}At(t,s){const i="data:image/svg+xml;base64,"+btoa(t.outerHTML),h=new Image;h.onload=()=>{this.Ht=h,s()},h.src=i}load(t,s){for(const s of t.getElementById("$layer2").querySelectorAll("*")){const i=s,h=i.getAttribute("d"),e=t.getElementById(i.id.replace(/(.[0-9])?.collider/g,"")),n=null!=e?e.getBBox():i.getBBox();this.$t[i.id.substring(1)]=U.xt(h,n)}for(const s of t.getElementById("$layer1").querySelectorAll("*")){const t=s;t.getBBox&&(this.kt[t.id.substring(1)]=t.getBBox()),t.id.endsWith(".fx")&&(this.jt[t.id.substring(1)]=new Path2D(t.getAttribute("d")))}document.getElementById("$layer2").style.display="none",this.At(t,()=>{s(),t.style.display="none"})}};class G{constructor(t,s,i=a,h=null){let e=new Y(h);e.position=s,e.shape=Z.$t[t+".collider"],e.j=i,this.body=e,this.Lt=Z.kt[t],this.scale=new N(1,1),this.angle=0,this.Pt=N.Mt(),this.offset=new N(0,0)}gt(){null!=this.Lt&&(this.scale=new N(-1,1),this.body.gt(this.Lt.width/2),this.offset.x-=this.Lt.width)}update(t){}Ft(t){h&&this.body.shape?U.vt(this.body,t):this.Lt&&(t.save(),t.scale(this.scale.x,this.scale.y),t.translate(this.scale.x*this.Pt.x,this.scale.y*this.Pt.y),t.rotate(Math.sign(this.scale.x)*this.angle),t.drawImage(Z.Ht,this.Lt.x,this.Lt.y,this.Lt.width,this.Lt.height,(this.body.position.x-this.Pt.x)/this.scale.x+this.offset.x,(this.body.position.y-this.Pt.y)/this.scale.y+this.offset.y,this.Lt.width,this.Lt.height),t.restore())}}class J extends G{constructor(t,s){super(t,s),this.body.q=t=>this.q(t)}q(t){t>C&&I.ct(t)}}const K=new class{constructor(){this.value=0,this.update()}zt(t){this.value+=t,this.update()}update(){document.getElementById("score").innerText=this.value.toString()}};class Q extends G{constructor(t,s,i,h=a,e=null){super(t,s,h,e),this.Bt=1,this.Ot=1,this.body.R=t=>this.R(),this.zt=i}R(){this.Bt-=this.Ot,this.Bt<=0&&(this.body.W=!0,K.zt(this.zt))}Ft(t){this.Bt<=0||super.Ft(t)}}class X extends Q{constructor(t){super("tree",t,25)}R(){super.R(),mt.Wt++,mt.Vt(),I.ut(),this.Bt=2}update(t){2==this.Bt&&this.scale.x>0&&(this.scale=this.scale.C(new N(5*t,5*t)))}}class tt extends Q{constructor(t){super("iron",t,50)}update(t){2==this.Bt&&this.scale.x>0&&(this.scale=this.scale.C(new N(5*t,5*t)))}R(){super.R(),mt.Rt++,mt.Vt(),I.ft(),this.Bt=2}}class st extends G{constructor(t){super("gold",t),this.body.T=!1,this.body.I=()=>this.I(),this.Tt=!1}I(){mt.qt++,mt.Vt(),this.Tt=!this.Tt,K.zt(5),I.lt()}Ft(t){super.Ft(t),h||this.Tt||(t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(this.body.position.x,this.body.position.y,this.Lt.width,this.Lt.height))}}const it=new class{constructor(){this.Et=[]}update(t){for(const s of this.Et)s.update(t);this.Et=this.Et.filter(t=>t.Bt>0)}Ft(t){for(const s of this.Et)s.Ft(t)}};class ht{constructor(t,s){this.position=s,this.It=t,this.scale=1,this.Nt=0,this.Bt=500,this.color="white",this.alpha=1,this.Ut=0,this.lineWidth=1,this.fill=!1,this.gt=1}update(t){this.scale+=this.Nt*t,this.alpha+=this.Ut*t,this.alpha<0&&(this.alpha=0),this.alpha>1&&(this.alpha=1),this.Bt-=t}Ft(t){t.save(),t.globalAlpha=this.alpha,t.strokeStyle=this.color,t.fillStyle=this.color,t.lineWidth=this.lineWidth,this.gt&&t.scale(this.gt,1),t.translate(this.gt*this.position.x,this.position.y),this.fill?t.fill(this.It):t.stroke(this.It),t.restore()}}class et extends G{constructor(t,s=null){super("bumper",t,x),this.Yt=new G(s,t.add(new N(18*this.scale.x,10*this.scale.y))),this.body.R=()=>this.Zt(),this.Gt=null,this.R=null}Zt(){const t=this.body.position.C(new N(this.Lt.x,this.Lt.y));let s=new Path2D;s.arc(this.body.position.x+this.Lt.width/2,this.body.position.y+this.Lt.height/2,25,0,2*Math.PI),this.Gt=new ht(s,t),this.Gt.Ut=-5,this.Gt.Nt=.1,this.Gt.Bt=1.5,this.Gt.lineWidth=2,this.Gt.fill=!0,this.Gt.alpha=.6,it.Et.push(this.Gt),I.pt(),null!=this.R&&this.R()}update(t){null!=this.Gt&&(this.Gt.Bt>1.45&&(this.scale.x+=1*t,this.scale.y+=1*t),this.Gt.Bt<1.4&&(this.scale.x-=1*t,this.scale.y-=1*t),this.Gt.Bt<1.35&&(this.scale=new N(1,1),this.Gt=null))}Ft(t){super.Ft(t),null!=this.Yt&&this.Yt.Ft(t)}}class nt extends Q{constructor(t){super("enemy",t,50,a,1),this.Jt=Z.jt["armor.fx"],this.body.speed=new N(0,60),this.body.R=()=>this.R(),this.body.T=!1,this.zt=50}R(){super.R(),I.wt()}update(t){this.body.update(t)}Ft(t){super.Ft(t),null==this.Jt||h||0==this.Bt||(t.save(),t.globalAlpha=.7,t.fillStyle="gray",t.translate(this.body.position.x-657,this.body.position.y-612),t.fill(this.Jt),t.restore())}}class rt extends nt{constructor(t){super(t),this.body.shape=new U(this.body.shape.v.map(t=>t.multiply(2))),this.body.T=!0,this.body.R=()=>this.R(),this.zt=500,this.Bt=3,this.scale=new N(2,2),this.Jt=null}R(){super.R(),I.dt()}update(t){this.body.position.y>n&&(this.body.position.y=-this.Lt.height),super.update(t)}}const ot=new class{constructor(){document.addEventListener("keydown",t=>this.Kt(t),!1),document.addEventListener("keyup",t=>this.Qt(t),!1),this.right=!1,this.left=!1,this.Xt=!1}Kt(t){"ArrowRight"==t.key&&(this.right=!0),"ArrowLeft"==t.key&&(this.left=!0)," "==t.key&&(this.Xt=!0)}Qt(t){"ArrowRight"==t.key&&(this.right=!1),"ArrowLeft"==t.key&&(this.left=!1)," "==t.key&&(this.Xt=!1)}};class at extends G{constructor(t,s){let i,h;1==t&&(i=new N(178.11,653),h=new N(188.2,664.3)),-1==t&&(i=new N(290.61,652.71),h=new N(344,664.3)),super("flipper",i,u),this.ts=t,this.ss=s,this.body.H=!1,-1==t&&this.gt(),this.Pt=h,this.hs=-this.ts*l,this.es=c,this.ns=!1}rs(){this.ns=!0}update(t){if(this.ns)if(0==this.angle&&I.bt(),Math.abs(this.angle)<Math.abs(this.hs)){const s=Math.sign(this.hs)*this.es*t,i=this.Pt.C(this.ss.body.position).length()+20;this.angle+=s,this.body.rotate(this.Pt.C(this.body.position),s),this.body.speed=new N(Math.sign(this.hs)*Math.cos(this.angle),-Math.sign(this.hs)*Math.sin(this.angle)).multiply(1e4*this.es/i)}else this.ns=!1,this.body.speed=N.Mt();else if(Math.abs(this.angle)>Math.PI/360){const s=-Math.sign(this.hs)*this.es*t,i=this.Pt.C(this.ss.body.position).length()+20;this.angle+=s,this.body.rotate(this.Pt.C(this.body.position),s),this.body.speed=new N(Math.sign(this.hs)*Math.cos(this.angle),-Math.sign(this.hs)*Math.sin(this.angle)).multiply(-1e4*this.es/i)}else this.ns=!1,this.body.speed=N.Mt(),this.angle=0;(ot.left&&1==this.ts||ot.right&&-1==this.ts)&&this.rs()}}class lt extends G{constructor(){super("ball",new N(560,600),d,w),this.os=this.body.position,this.body.H=!1,this.body._t(new N(0,this.body.Ct*o))}reset(){this.body.position=this.os}update(t){this.body.update(t)}}class ct extends G{constructor(){super("plunger",new N(546.8,663.3),y,w),this.body.H=!1,this.as=0}update(t){const s=this.body.position.y;ot.Xt?(0==this.as&&I.yt(),this.as<=p?this.body.speed=new N(0,f):this.body.speed=N.Mt()):this.as>0?this.body.speed=new N(0,-m):(this.body.speed=N.Mt(),this.as=s-this.body.position.y),this.body.update(t),this.as+=this.body.position.y-s}}class ut{constructor(t){this.ts=t,this.B=new Y(null),this.B.position=new N(100.5,454.7),this.B.shape=Z.$t["kicker.collider.1"],this.B.j=a,this.B.H=!1,this.O=new Y(null),this.O.position=new N(100.4,530.2),this.O.shape=Z.$t["kicker.collider.2"],this.O.j=a,this.O.H=!1,this.Lt=Z.kt.kicker,this.body=new Y(null),this.body.shape=Z.$t["kicker.collider.3"],-1==t&&(this.body.position=new N(344.4,454.69),this.B.position=new N(417.1,454),this.O.position=new N(347.9,530),this.O.gt(this.Lt.width/2),this.body.gt(this.Lt.width/2)),1==t&&(this.body.position=new N(105.18,454.69));const s=-1==this.ts?.9:1.05;this.body.j=a*s,this.body.speed=new N(0,-v),this.body.H=!1,this.body.R=()=>this.R()}R(){const t=-1==this.ts?new N(16.5,-16.5):N.Mt(),s=this.B.position.C(new N(this.ts*this.Lt.x,this.ts*this.Lt.y)).add(t),i=new ht(Z.jt["kicker.fx"],s);i.Ut=-.7,i.Nt=.1,i.Bt=1.5,i.gt=this.ts,i.lineWidth=2,it.Et.push(i);const h=new ht(Z.jt["helmet.fx"],s);h.Ut=-.7,h.Nt=.1,h.Bt=1.5,h.gt=this.ts,it.Et.push(h),I.pt()}update(t){}Ft(t){if(h)U.vt(this.body,t),U.vt(this.B,t),U.vt(this.O,t);else{t.save(),t.scale(this.ts,1);const s=-1==this.ts?-this.Lt.width-5:-5;t.drawImage(Z.Ht,this.Lt.x,this.Lt.y,this.Lt.width,this.Lt.height,this.ts*this.body.position.x+s,this.body.position.y,this.Lt.width,this.Lt.height),t.restore()}}}const wt=new class{load(t){this.ls=t,this.ss=new lt,this.cs=new at(1,this.ss),this.us=new ut(1),this.ws=new at(-1,this.ss),this.ds=new ut(-1),this.ps=new ct,this.fs=new J("bend.1",new N(44.68,415.1)),this.fs.Lt=Z.kt.bend,this.ms=new J("bend.2",new N(44.68,415.1)),this.ys=new J("bend.1",new N(334.3,414.4)),this.ys.Lt=Z.kt.bend,this.ys.gt(),this.bs=new J("bend.2",new N(474.9,415.5)),this.Ms=new J("gutter",new N(0,653)),this.gs=new J("gutter",new N(319.5,653)),this.gs.gt(),this.vs=new J("fence",new N(530.8,107.1)),this.xs=new J("deflector",new N(539,0)),this.Cs=new J("left-wall",new N(-100,0)),this.Ss=new J("top-wall",new N(-100,-100)),this.Ds=new J("right-wall",new N(600,0)),this.sign=new J("sign",new N(220,300)),this._s=new Y(1),this._s.position=new N(540,120),this._s.shape=new U([new N(0,0),new N(0,100),new N(60,100),new N(60,-50)]),this._s.T=!1,this._s.N=()=>{this.ss.body.position.y<200&&(this._s.T=!0)},this._s.j=a,this.ks="0"}update(t){this.cs.update(t),this.ws.update(t),this.ss.update(t),this.ps.update(t),this.ls.update(this.ss.body,this.cs.body),this.ls.update(this.ss.body,this.us.body),this.ls.update(this.ss.body,this.us.B),this.ls.update(this.ss.body,this.us.O),this.ls.update(this.ss.body,this.ws.body),this.ls.update(this.ss.body,this.ds.body),this.ls.update(this.ss.body,this.ds.B),this.ls.update(this.ss.body,this.ds.O),this.ls.update(this.ss.body,this.ps.body),this.ls.update(this.ss.body,this.fs.body),this.ls.update(this.ss.body,this.ms.body),this.ls.update(this.ss.body,this.ys.body),this.ls.update(this.ss.body,this.bs.body),this.ls.update(this.ss.body,this.Ms.body),this.ls.update(this.ss.body,this.gs.body),this.ls.update(this.ss.body,this.vs.body),this.ls.update(this.ss.body,this.xs.body),this.ls.update(this.ss.body,this.Cs.body),this.ls.update(this.ss.body,this.Ss.body),this.ls.update(this.ss.body,this.Ds.body),this.ls.update(this.ss.body,this._s),this.ss.body.position.y>n&&(this.ss.body.translate(this.ss.os.C(this.ss.body.position)),this._s.T=!1)}$s(t){const s=t.createLinearGradient(300,0,300,800);s.addColorStop(0,"#9BD077"),s.addColorStop(1,"#71c837"),t.fillStyle=s,t.fillRect(0,0,e,n),t.fillStyle="white",this.sign.Ft(t),t.font="48px serif",t.fillText(this.ks,235,355),this.fs.Ft(t),this.ms.Ft(t),this.ys.Ft(t),this.bs.Ft(t),this.us.Ft(t),this.ds.Ft(t),this.Ms.Ft(t),this.gs.Ft(t),this.xs.Ft(t),this.Cs.Ft(t),this.Ss.Ft(t),this.Ds.Ft(t)}js(t){this.cs.Ft(t),this.ws.Ft(t),this.ps.Ft(t)}Hs(t){this.ss.Ft(t),this.vs.Ft(t)}};const dt=new class{constructor(){this.entities=[],this.ks="-404",this.text="(404 BC) Victory is ours! The Delian League and Athens surrendered. The Peloponnesian War will be remembered as a great victory of Sparta.\n\nCredits:\n\nBarthélémy Renucci\nAdrian Lissot\nDavid Sebaoun\nFlorent Perez"}load(t){}update(t){}$s(t){wt.$s(t)}js(t){}Hs(t){}As(){setTimeout(()=>E.tt(),2500)}Ls(){return!1}Ps(){return null}};const pt=new class{constructor(){this.entities=[],this.ks="-413",this.text="(413 BC) Victory is near, commander. Now is time for war ⚔️. Defeat all incoming Delian soldiers!\n\nHit as many Delian soldiers as possible, and defeat their commander: if he dies, they will most likely surrender to our superiority.\n\nCharge!"}load(t){document.getElementById("objectives").innerText="",this.ls=t,this.ss=wt.ss,this.ss.reset(),this.Fs=[];for(let t=0;t<25;t++){const s=Math.floor(t/5),i=t%5;this.Fs.push(new nt(new N(50+100*i,-100-300*s)))}this.zs=new rt(new N(225,-2e3))}update(t){wt.update(t),it.update(t);for(const s of this.Fs)s.update(t),s.body.position.y>-s.Lt.height&&this.ls.update(this.ss.body,s.body);this.zs.update(t),this.ls.update(this.ss.body,this.zs.body)}$s(t){wt.$s(t)}js(t){wt.js(t)}Hs(t){wt.Hs(t);for(const s of this.Fs)s.body.position.y>-s.Lt.height&&s.Ft(t);this.zs.Ft(t),it.Ft(t)}As(){E.et()}Ls(){return 0==this.zs.Bt}Ps(){return E.ot(),E.rt(),dt}};const ft=new class{constructor(){this.Bs=["sword","axe","lance"],this.Os(),this.Ws=null,this.Vs=[null,null,null],this.Rs=0,this.ks="-421",this.text="(421 BC) Excellent job, commander. We have all the resources we need to build and equip an army!\n\nLet's show soldiers some strategy. Your enemy's weapon is shown in blue, and you have to hit the right bumper to win the round. Choose your weapon bumper with care:\n\n🗡️ > 🪓\n🪓 > 🔱\n🔱 > 🗡️\n"}load(t){this.Vt(),this.ls=t,this.ss=wt.ss,this.ss.reset(),this.Ts=new et(new N(19.64,163),"lance"),this.Ts.R=()=>{this.Ws="lance",this.qs()},this.Es=new et(new N(222,11.03),"axe"),this.Es.R=()=>{this.Ws="axe",this.qs()},this.Is=new et(new N(413.4,163),"sword"),this.Is.R=()=>{this.Ws="sword",this.qs()},this.Ns=Z.kt.cross,this.Us=Z.kt.check}Os(){const t=Math.floor(3*Math.random());this.Ys=this.Bs[t]}qs(){3!=this.Rs&&("sword"==this.Ys&&"lance"==this.Ws||"axe"==this.Ys&&"sword"==this.Ws||"lance"==this.Ys&&"axe"==this.Ws?(this.Vs[this.Rs]=!0,this.Rs++,this.Vt(),K.zt(100),this.Os()):(this.Vs[this.Rs]=!1,K.zt(-10)))}update(t){wt.update(t),this.Es.update(t),this.Is.update(t),this.Ts.update(t),this.ls.update(this.ss.body,this.Es.body),this.ls.update(this.ss.body,this.Is.body),this.ls.update(this.ss.body,this.Ts.body),it.update(t)}$s(t){wt.$s(t),t.fillStyle="#0d5eaf",t.strokeStyle="white",t.rect(365,300,60,77),t.fill(),t.stroke()}js(t){wt.js(t);const s=Z.kt[this.Ys];t.drawImage(Z.Ht,s.x,s.y,s.width,s.height,375,321,2.5*s.width,2.5*s.height);let i=this.Vs[this.Rs];null==i&&0!=this.Rs&&this.Vs[this.Rs-1]&&(i=this.Vs[this.Rs-1]);let h=null==i?null:i?this.Us:this.Ns;null!=h&&t.drawImage(Z.Ht,h.x,h.y,h.width,h.height,150,310,h.width,h.height),this.Es.Ft(t),this.Is.Ft(t),this.Ts.Ft(t)}Hs(t){wt.Hs(t),it.Ft(t)}Ls(){return 3==this.Vs.filter(t=>1==t).length}Vt(){document.getElementById("objectives").innerText=`Win: ${this.Rs} / 3`}As(){E.ht()}Ps(){return E.ot(),E.nt(),this.ks="-404",pt}};const mt=new class{constructor(){this.Wt=0,this.qt=0,this.Rt=0,this.ks="-431",this.text=`(431 BC) Welcome, commander. The Spartan assembly voted war ⚔️ against our forever enemy, Athens and its Delian League. Commander, you must to lead Sparta and the Peloponnesian League to victory!\nWe need to be ready as soon as possible, but we're missing resources, strategy and soldiers.\n\nWe first need to collect some resources for our army:\n\n🌲 ${g} units of wood\n⛏️ ${b} units of iron\n📀 ${M} gold\n`,this.entities=[]}load(t){this.Vt(),this.ls=t,this.ss=wt.ss,this.entities=[new J("small-mine-wall",new N(0,220)),new X(new N(175,0)),new X(new N(150,150)),new X(new N(373.4,266)),new tt(new N(10.91,8.75)),new tt(new N(114.4,7.95)),new tt(new N(115.6,90.85)),new tt(new N(75.95,177.4)),new tt(new N(11.4,167)),new st(new N(77.51,318)),new st(new N(281.9,401.9)),new st(new N(310.1,91.76)),new et(new N(14.76,83.63))]}update(t){wt.update(t);for(let s of this.entities)s.update(t),this.ls.update(this.ss.body,s.body);this.entities[9].Tt&&this.entities[10].Tt&&this.entities[11].Tt&&(this.entities[9].Tt=!1,this.entities[10].Tt=!1,this.entities[11].Tt=!1,this.qt+=5,K.zt(100),this.Vt()),it.update(t)}$s(t){wt.$s(t)}js(t){wt.js(t);for(let s=2;s<this.entities.length;s++)this.entities[s].Ft(t)}Hs(t){wt.Hs(t),this.entities[0].Ft(t),this.entities[1].Ft(t),it.Ft(t)}Ls(){return this.Wt>=g&&this.qt>=M&&this.Rt>=b}As(){E.it()}Vt(){document.getElementById("objectives").innerText=`🌲: ${this.Wt} / ${g} | ⛏️: ${this.Rt} / ${b} | 📀: ${this.qt} / ${M}`}Ps(){return E.ot(),E.nt(),ft}};class yt{constructor(){this.ls=new j,this.Zs=mt,this.Zs==mt?E.tt():this.Zs.As(),wt.load(this.ls),this.Zs.load(this.ls),this.Gs=!1,wt.ks=this.Zs.ks,this.Js=!1,document.getElementById("dialog").innerText=this.Zs.text}update(t){this.Js?(this.Zs.update(t),this.Zs.Ls()&&(this.Zs=this.Zs.Ps(),wt._s.T=!1,this.Zs.load(this.ls),this.Zs.As(),this.Gs=!1,wt.ks=this.Zs.ks,this.Js=!1,document.getElementById("dialog").style.display="block",document.getElementById("dialog").innerText=this.Zs.text)):ot.Xt&&this.Zs!=dt&&(this.Zs==mt&&(E.ot(),E.it()),this.Js=!0,document.getElementById("dialog").style.display="none")}Ft(t){this.Gs||(t.Ks.clearRect(0,0,e,n),this.Zs.$s(t.Ks),this.Gs=!0),t.Qs.clearRect(0,0,e,n),this.Zs.js(t.Qs),t.Xs.clearRect(0,0,e,n),this.Zs.Hs(t.Xs)}}class bt{constructor(t,s,i){this.Ks=t,this.Qs=s,this.Xs=i}}class Mt{constructor(){this.ti=r,this.si=performance.now(),this.ii=this.si,this.hi=document.getElementById("dynamic-canvas"),this.ei=document.getElementById("hybrid-canvas"),this.ni=document.getElementById("static-canvas"),this.context=new bt(this.ni.getContext("2d"),this.ei.getContext("2d"),this.hi.getContext("2d")),this.ri=new yt}loop(t){window.requestAnimationFrame(t=>this.loop(t));var s=0;if(t>this.si+this.ti){var i=t-this.si;s=Math.floor(i/this.ti)}this.oi(s),this.Ft(),this.ii=t}oi(t){for(var s=0;s<t;s++)this.si+=this.ti,this.update(this.ti/1e3)}update(t){this.ri.update(t)}Ft(){this.ri.Ft(this.context)}}Z.load(document.getElementById("svg"),()=>{(new Mt).loop(performance.now())})}]);</script></body></html>